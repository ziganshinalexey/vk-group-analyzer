# userstory / yii2-dto

Пакет для организации работы с ДТО.
Содержит базовые реализации ДТО для различных ситуаций.

### Основные понятия

 - **ДТО (Data Transfer Object, DTO)** - один из шаблонов проектирования, используется
 для передачи данных между подсистемами приложения. ДТО, в отличие от business object
 или data access object не должен содержать какого-либо поведения. 
 
 - **ДТО результат** - ДТО, содержащий информацию о результате выполнения какого-либо
 действия. 
  
 
### Общее

Все ДТО, реализованные в рамках данного пакета, являются прототипами 
(могут копировать сами себя) и имеют подключенный функционал для работы с ошибками
из пакета [userstory/yii2-errors](https://gitlab.userstory.ru/userstory/yii2-errors).

### Основной сценарий использования пакета

Пакет содержит базовые реализации ДТО для различных ситуаций.
Данные реализации могут быть использованы как есть, либо расширены
необходимым функционалом. 

Порождение ДТО остается за рамками данного пакета.

---

Любой класс ДТО должен имплементировать интерфейс:
```php
Userstory\Yii2Dto\interfaces\BaseDtoInterface
```
Класс ДТО может наследоваться от базовой реализации ДТО:
```php
Userstory\Yii2Dto\dataTransferObjects\BaseDto
```
однако это не является обязательным требованием.

---

Любой ДТО результат должен имплементировать интерфейс:
```php
Userstory\Yii2Dto\interfaces\results\BaseResultInterface
```

Класс ДТО результата может наследоваться от базовой реализации ДТО:
```php
Userstory\Yii2Dto\dataTransferObjects\results\BaseResult
```
однако это не является обязательным требованием.


### Существующие классы ДТО результата:
 
 - **DataResult** - результат с произвольным набором данных.
 - **IdResult** - результат содержащий ИД сущности.
 - **IdListResult** - результат содержащий список ИД сущностей.
 - **DtoResult** - результат содержащий ДТО сущности.
 - **DtoListResult** - результат содержащий список ДТО сущностей.
 
Как работают можно посмотреть по коду.

### Проверка изменения значений атрибута.

Смотри трейт:
```php
Userstory\Yii2Dto\traits\DtoWithOldAttributes
Userstory\Yii2Dto\traits\WithOldAttributes
```
